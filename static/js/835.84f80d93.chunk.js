"use strict";(self.webpackChunkhelp_book=self.webpackChunkhelp_book||[]).push([[835],{835:(e,s,n)=>{n.r(s),n.d(s,{default:()=>W});var i=n(8536),r=n(2791),t=n(4270),l=n(7050),a=n(9642),o=n(2559),d=n(8454),c=n(9631),h=n(6341),x=n(5379),j=n(4217),p=n(634),g=n(6355),C=n(1087);const u=e=>{switch(e){case"A":return"#59c959";case"B":return"#ecd950";case"C":return"#ff5151";case"A/B":return"linear-gradient(-8deg, #ecd950 45%, #59c959 55%)";default:return"#e0e0e0"}};var m=n(8014);var y=n(184);const b=e=>{let{filters:s}=e;const{search:n,typeCars:i,drivingStyle:t,hasAirConditioner:l,hasFridge:a}=s,[o,b]=(0,r.useState)([]),[f,w]=(0,r.useState)(!0);return(0,r.useEffect)((()=>{const e=(0,c.hJ)(d.db,"cars"),s=(0,c.cf)(e,(e=>{const s=e.docs.map((e=>({id:e.id,...e.data()}))).filter((e=>{const s=e.name.includes(n),r=!i||e.type===i,o=!t||e.drivingStyle===t,d=!l||!0===e.hasAirConditioner,c=!a||!0===e.hasFridge;return s&&r&&d&&c&&o}));b(s),w(!1)}));return()=>s()}),[i,t,l,a,n]),(0,y.jsx)(h.r,{pt:4,w:"100%",templateColumns:{base:"repeat(1, 1fr)",md:"repeat(3, 1fr)"},gap:{base:3,md:6},children:o.sort(((e,s)=>((e,s)=>{const n=/^([a-zA-Z]+)(\d+)$/,[,i,r]=e.name.match(n)||[],[,t,l]=s.name.match(n)||[],a=i.localeCompare(t);return 0!==a?a:parseInt(r,10)-parseInt(l,10)})(e,s))).map((e=>(0,y.jsx)(C.rU,{to:"/cars/".concat(e.id),children:(0,y.jsxs)(x.k,{w:"100%",alignItems:"center",justify:"space-between",gap:4,p:{base:1,md:3},borderWidth:1,borderRadius:"md",boxShadow:"md",bg:u(e.drivingStyle),children:[(0,y.jsx)(j.x,{fontWeight:"bold",fontSize:"lg",children:e.name}),(0,y.jsxs)(p.x,{display:"flex",gap:3,children:[(0,y.jsx)(p.x,{display:"flex",alignItems:"center",mt:2,children:(0,y.jsx)(g.l51,{color:e.hasAirConditioner?"green":"red"})}),(0,y.jsx)(p.x,{display:"flex",alignItems:"center",mt:2,children:(0,y.jsx)(g.FSC,{color:e.hasFridge?"green":"red"})}),"hasHeating"in e&&(0,y.jsx)(p.x,{display:"flex",alignItems:"center",mt:2,children:(0,y.jsx)(m.$b7,{color:e.hasHeating?"green":"red"})}),"hasSoundProofed"in e&&(0,y.jsx)(p.x,{display:"flex",alignItems:"center",mt:2,children:(0,y.jsx)(m.$b7,{color:e.hashasSoundProofed?"green":"red"})}),(0,y.jsxs)(p.x,{display:"flex",alignItems:"center",mt:2,children:[(0,y.jsx)(g.BYR,{size:"30px",color:"green"}),(0,y.jsx)(j.x,{ml:2,fontSize:26,children:e.drivingStyle})]})]})]})},e.id)))})};var f=n(6511),w=n(4295),v=n(1091),k=n(5660),S=n(9271),A=n(7186),F=n(8280),I=n(2571),z=n(6486),D=n(7769),V=n(9168),O=n(71),B=n(8906),H=n(9848),E=n(7874),T=n(4315),P=n(3215),X=n(6092),q=n(203);const M=e=>{let{typeCars:s,setTypeCars:n,drivingStyle:i,setDrivingStyle:t,hasAirConditioner:l,setHasAirConditioner:a,hasFridge:o,setHasFridge:d}=e;const{isOpen:c,onOpen:h,onClose:x}=(0,E.q)(),C=(0,r.useRef)(),u=[s,i,l,o].filter(Boolean).length;console.log("activeFilters",u),(0,r.useEffect)((()=>{const e=e=>{C.current&&!C.current.contains(e.target)&&x()};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[x]);return(0,y.jsxs)(p.x,{display:{base:"block",md:"none"},ref:C,children:[(0,y.jsxs)(p.x,{position:"relative",children:[(0,y.jsx)(k.h,{icon:c?(0,y.jsx)(X.T,{}):(0,y.jsx)(g.ulB,{}),onClick:c?x:h,"aria-label":"Open Filter Menu",position:"relative"}),u>0&&(0,y.jsx)(p.x,{position:"absolute",top:"-5px",right:"-5px",fontSize:"10px",color:"white",bg:"red.500",borderRadius:"full",width:"15px",height:"15px",display:"flex",alignItems:"center",justifyContent:"center",children:u})]}),c&&(0,y.jsx)(p.x,{position:"absolute",top:"60px",left:"0",width:"100%",bg:"white",zIndex:"overlay",boxShadow:"md",p:4,children:(0,y.jsxs)(T.g,{align:"start",spacing:4,children:[(0,y.jsxs)(p.x,{w:"100%",display:"flex",justifyContent:"space-between",alignItems:"center",ml:"auto",position:"relative",children:[(0,y.jsx)(j.x,{children:"Filtry: "}),(0,y.jsx)(k.h,{size:"md",icon:(0,y.jsx)(q.tGM,{}),onClick:()=>{n(""),t(""),a(null),d(null)},"aria-label":"Clear Filter",position:"relative"}),u>0&&(0,y.jsx)(p.x,{position:"absolute",top:"-5px",right:"-5px",fontSize:"10px",color:"white",bg:"red.500",borderRadius:"full",width:"15px",height:"15px",display:"flex",alignItems:"center",justifyContent:"center",children:u})]}),(0,y.jsxs)(S.v,{children:[(0,y.jsx)(A.j,{as:F.z,rightIcon:(0,y.jsx)(H.v,{}),w:"100%",children:s||"Typ auta:"}),(0,y.jsxs)(I.q,{w:"100%",children:[(0,y.jsx)(z.s,{w:"100%",onClick:()=>n(""),children:"V\u0161e"}),(0,y.jsx)(z.s,{w:"100%",onClick:()=>n("CDV"),children:"CDV"}),(0,y.jsx)(z.s,{w:"100%",onClick:()=>n("CD"),children:"CD"}),(0,y.jsx)(z.s,{w:"100%",onClick:()=>n("D"),children:"D"}),(0,y.jsx)(z.s,{w:"100%",onClick:()=>n("OV"),children:"OV"}),(0,y.jsx)(z.s,{w:"100%",onClick:()=>n("EXP"),children:"EXP"})]})]}),(0,y.jsxs)(S.v,{children:[(0,y.jsx)(A.j,{as:F.z,rightIcon:(0,y.jsx)(H.v,{}),w:"100%",children:i||"Styl j\xedzdy:"}),(0,y.jsxs)(I.q,{w:"100%",children:[(0,y.jsx)(z.s,{w:"100%",onClick:()=>t(""),children:"V\u0161e"}),(0,y.jsx)(z.s,{w:"100%",onClick:()=>t("A"),children:"A"}),(0,y.jsx)(z.s,{w:"100%",onClick:()=>t("B"),children:"B"}),(0,y.jsx)(z.s,{w:"100%",onClick:()=>t("C"),children:"C"}),(0,y.jsx)(z.s,{w:"100%",onClick:()=>t("A/B"),children:"A/B"}),(0,y.jsx)(z.s,{w:"100%",onClick:()=>t("0"),children:"0"})]})]}),(0,y.jsx)(P.X,{name:"hasAirConditioner",isChecked:l,onChange:()=>{a((e=>!e))},children:"Klimatizace"}),(0,y.jsx)(P.X,{name:"hasVestavba",isChecked:o,onChange:()=>d((e=>!e)),children:"Vestavba (ledni\u010dka)"})]})})]})},R=e=>{let{search:s,setSearch:n,typeCars:i,setTypeCars:r,drivingStyle:t,setDrivingStyle:l,hasAirConditioner:a,setHasAirConditioner:o,hasFridge:d,setHasFridge:c,setIsOpenModalAddCar:h}=e;const j=e=>{r(e)};return(0,y.jsxs)(x.k,{gap:4,children:[(0,y.jsxs)(f.B,{children:[(0,y.jsx)(w.Z,{pointerEvents:"none",children:(0,y.jsx)(O.eaK,{color:"gray.300"})}),(0,y.jsx)(v.I,{w:{base:"100%",md:"300px",xl:"500px"},value:s,onChange:e=>{n(e.target.value.toUpperCase())},placeholder:"Search"})]}),(0,y.jsxs)(p.x,{display:{base:"flex",md:"none"},gap:2,children:[(0,y.jsx)(M,{typeCars:i,setTypeCars:r,drivingStyle:t,setDrivingStyle:l,hasAirConditioner:a,setHasAirConditioner:o,hasFridge:d,setHasFridge:c}),(0,y.jsx)(k.h,{bg:"#6da305",color:"white",_hover:{bg:"#5c8e04"},icon:(0,y.jsx)(B.d,{}),onClick:()=>h(!0),"aria-label":"Open Modal Add Cars",position:"relative"})]}),(0,y.jsx)(p.x,{display:{base:"none",md:"block"},children:(0,y.jsxs)(x.k,{gap:4,align:"center",children:[(0,y.jsxs)(S.v,{children:[(0,y.jsx)(A.j,{as:F.z,rightIcon:(0,y.jsx)(H.v,{}),w:"80px",children:i||"Type"}),(0,y.jsxs)(I.q,{minW:"80px",children:[(0,y.jsx)(z.s,{onClick:()=>j(""),children:"Type"}),(0,y.jsx)(z.s,{onClick:()=>j("CDV"),children:"CDV"}),(0,y.jsx)(z.s,{onClick:()=>j("CD"),children:"CD"}),(0,y.jsx)(z.s,{onClick:()=>j("D"),children:"D"}),(0,y.jsx)(z.s,{onClick:()=>j("OV"),children:"OV"}),(0,y.jsx)(z.s,{onClick:()=>j("EXP"),children:"EXP"})]})]}),(0,y.jsxs)(x.k,{align:"center",children:[(0,y.jsx)(D.J,{as:g.l51,boxSize:5,mr:2,color:a?"green.500":"gray.500"}),(0,y.jsx)(V.r,{colorScheme:"green",isChecked:a,onChange:()=>o(!a)})]}),(0,y.jsxs)(x.k,{align:"center",children:[(0,y.jsx)(D.J,{as:g.FSC,boxSize:5,mr:2,color:d?"green.500":"gray.500"}),(0,y.jsx)(V.r,{colorScheme:"green",isChecked:d,onChange:()=>c(!d)})]}),(0,y.jsx)(F.z,{leftIcon:(0,y.jsx)(B.d,{}),bg:"#6da305",color:"white",_hover:{bg:"#5c8e04"},onClick:()=>h(!0),children:"p\u0159idat auto"})]})})]})},W=()=>{const[e,s]=(0,r.useState)(!1),[n,d]=(0,r.useState)(""),[c,h]=(0,r.useState)(""),[x,j]=(0,r.useState)(!1),[p,g]=(0,r.useState)(!1),[C,u]=(0,r.useState)("");return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(t.q,{children:(0,y.jsx)("title",{children:"Cars"})}),(0,y.jsxs)(i.W,{w:"100%",maxW:{base:"100%",md:"95vw",xl:"80vw"},p:2,children:[(0,y.jsx)(R,{search:n,setSearch:d,typeCars:c,setTypeCars:h,drivingStyle:C,setDrivingStyle:u,hasAirConditioner:x,setHasAirConditioner:j,hasFridge:p,setHasFridge:g,setIsOpenModalAddCar:s}),(0,y.jsx)(b,{filters:{search:n,typeCars:c,drivingStyle:C,hasAirConditioner:x,hasFridge:p}})]}),e&&(0,y.jsx)(l.Z,{isOpen:e,onClose:()=>s(!1),children:(0,y.jsx)(a.Z,{onSubmit:async e=>{await(0,o.addsNewCar)(e),s(!1)}})})]})}}}]);
//# sourceMappingURL=835.84f80d93.chunk.js.map