"use strict";(self.webpackChunkhelp_book=self.webpackChunkhelp_book||[]).push([[370],{9370:(e,s,i)=>{i.r(s),i.d(s,{default:()=>K});var r=i(8536),n=i(2791),t=i(4270),a=i(7050),l=i(9642),d=i(2559),o=i(8454),c=i(9631),x=i(6341),h=i(5379),g=i(4217),j=i(634),p=i(6355),C=i(1087);const u=e=>{switch(e){case"A":return"#59c959";case"B":return"#ecd950";case"C":return"#ff5151";case"A/B":return"linear-gradient(-8deg, #ecd950 45%, #59c959 55%)";default:return"#e0e0e0"}};var m=i(8014);const f=(e,s)=>{const i=/^([a-zA-Z]+)(\d+)$/,[,r,n]=e.name.match(i)||[],[,t,a]=s.name.match(i)||[],l=r.localeCompare(t);return 0!==l?l:parseInt(n,10)-parseInt(a,10)};var y=i(6856),w=i(184);const S=e=>{let{filters:s,isGridView:i}=e;const{search:r,typeCars:t,drivingStyle:a,hasAirConditioner:l,hasFridge:d,hasHeating:S,hasSoundProofed:b}=s,[v,k]=(0,n.useState)([]),[I,A]=(0,n.useState)(!0);return(0,n.useEffect)((()=>{const e=(0,c.hJ)(o.db,"cars"),s=(0,c.cf)(e,(e=>{const s=e.docs.map((e=>({id:e.id,...e.data()}))).filter((e=>{const s=e.name.includes(r),i=!t||e.type===t,n=!a||e.drivingStyle===a,o=!l||!0===e.hasAirConditioner,c=!d||!0===e.hasFridge,x=!S||!0===e.hasHeating,h=!b||!0===e.hasSoundProofed;return s&&i&&o&&c&&n&&x&&h}));k(s),A(!1)}));return()=>s()}),[t,a,l,d,r,S,b]),i?(0,w.jsx)(x.r,{pt:4,w:"100%",templateColumns:{base:"repeat(4, 1fr)",md:"repeat(6, 1fr)",xl:"repeat(10, 1fr)"},gap:{base:1,md:6,xl:2},children:v.sort(((e,s)=>f(e,s))).map((e=>(0,w.jsx)(C.rU,{to:"/cars/".concat(e.id),children:(0,w.jsxs)(h.k,{w:"100%",flexDirection:"column",alignItems:"center",justify:"space-between",gap:1,p:{base:0,md:3},borderWidth:1,borderRadius:"md",boxShadow:"md",bg:u(e.drivingStyle),children:[(0,w.jsx)(g.x,{fontWeight:"bold",fontSize:14,children:e.name}),(0,w.jsxs)(j.x,{display:"flex",gap:1,children:[(0,w.jsx)(j.x,{display:"flex",alignItems:"center",children:(0,w.jsx)(p.l51,{color:e.hasAirConditioner?"green":"red"})}),"hasHeating"in e&&(0,w.jsx)(j.x,{display:"flex",alignItems:"center",children:(0,w.jsx)(m.$b7,{color:e.hasHeating?"green":"red"})}),(0,w.jsx)(j.x,{display:"flex",alignItems:"center",children:(0,w.jsx)(p.FSC,{color:e.hasFridge?"green":"red"})}),"hasSoundProofed"in e&&(0,w.jsx)(j.x,{display:"flex",alignItems:"center",children:(0,w.jsx)(y.HvK,{color:e.hasSoundProofed?"green":"red"})})]})]})},e.id)))}):(0,w.jsx)(x.r,{pt:4,w:"100%",templateColumns:{base:"repeat(1, 1fr)",md:"repeat(3, 1fr)"},gap:{base:3,md:6},children:v.sort(((e,s)=>f(e,s))).map((e=>(0,w.jsx)(C.rU,{to:"/cars/".concat(e.id),children:(0,w.jsxs)(h.k,{w:"100%",alignItems:"center",justify:"space-between",gap:4,p:{base:1,md:3},borderWidth:1,borderRadius:"md",boxShadow:"md",bg:u(e.drivingStyle),children:[(0,w.jsx)(g.x,{fontWeight:"bold",fontSize:"lg",children:e.name}),(0,w.jsxs)(j.x,{display:"flex",gap:3,children:[(0,w.jsx)(j.x,{display:"flex",alignItems:"center",children:(0,w.jsx)(p.l51,{color:e.hasAirConditioner?"green":"red"})}),"hasHeating"in e&&(0,w.jsx)(j.x,{display:"flex",alignItems:"center",children:(0,w.jsx)(m.$b7,{color:e.hasHeating?"green":"red"})}),(0,w.jsx)(j.x,{display:"flex",alignItems:"center",children:(0,w.jsx)(p.FSC,{color:e.hasFridge?"green":"red"})}),"hasSoundProofed"in e&&(0,w.jsx)(j.x,{display:"flex",alignItems:"center",children:(0,w.jsx)(y.HvK,{color:e.hasSoundProofed?"green":"red"})}),(0,w.jsx)(j.x,{display:"flex",alignItems:"center",px:1,children:(0,w.jsx)(g.x,{fontSize:22,children:e.drivingStyle})})]})]})},e.id)))})};var b=i(6511),v=i(4295),k=i(1091),I=i(5660),A=i(9271),H=i(7186),V=i(8280),F=i(2571),D=i(6486),z=i(7769),P=i(9168),O=i(71),G=i(8906),B=i(9848),E=i(7874),T=i(4315),W=i(3215),M=i(6092),X=i(203);const q=e=>{let{typeCars:s,setTypeCars:i,drivingStyle:r,setDrivingStyle:t,hasAirConditioner:a,setHasAirConditioner:l,hasFridge:d,setHasFridge:o}=e;const{isOpen:c,onOpen:x,onClose:h}=(0,E.q)(),C=(0,n.useRef)(),u=[s,r,a,d].filter(Boolean).length;console.log("activeFilters",u),(0,n.useEffect)((()=>{const e=e=>{C.current&&!C.current.contains(e.target)&&h()};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[h]);return(0,w.jsxs)(j.x,{display:{base:"block",md:"none"},ref:C,children:[(0,w.jsxs)(j.x,{position:"relative",children:[(0,w.jsx)(I.h,{icon:c?(0,w.jsx)(M.T,{}):(0,w.jsx)(p.ulB,{}),onClick:c?h:x,"aria-label":"Open Filter Menu",position:"relative"}),u>0&&(0,w.jsx)(j.x,{position:"absolute",top:"-5px",right:"-5px",fontSize:"10px",color:"white",bg:"red.500",borderRadius:"full",width:"15px",height:"15px",display:"flex",alignItems:"center",justifyContent:"center",children:u})]}),c&&(0,w.jsx)(j.x,{position:"absolute",top:"60px",left:"0",width:"100%",bg:"white",zIndex:"overlay",boxShadow:"md",p:4,children:(0,w.jsxs)(T.g,{align:"start",spacing:4,children:[(0,w.jsxs)(j.x,{w:"100%",display:"flex",justifyContent:"space-between",alignItems:"center",ml:"auto",position:"relative",children:[(0,w.jsx)(g.x,{children:"Filtry: "}),(0,w.jsx)(I.h,{size:"md",icon:(0,w.jsx)(X.tGM,{}),onClick:()=>{i(""),t(""),l(null),o(null)},"aria-label":"Clear Filter",position:"relative"}),u>0&&(0,w.jsx)(j.x,{position:"absolute",top:"-5px",right:"-5px",fontSize:"10px",color:"white",bg:"red.500",borderRadius:"full",width:"15px",height:"15px",display:"flex",alignItems:"center",justifyContent:"center",children:u})]}),(0,w.jsxs)(A.v,{children:[(0,w.jsx)(H.j,{as:V.z,rightIcon:(0,w.jsx)(B.v,{}),w:"100%",children:s||"Typ auta:"}),(0,w.jsxs)(F.q,{w:"100%",children:[(0,w.jsx)(D.s,{w:"100%",onClick:()=>i(""),children:"V\u0161e"}),(0,w.jsx)(D.s,{w:"100%",onClick:()=>i("CDV"),children:"CDV"}),(0,w.jsx)(D.s,{w:"100%",onClick:()=>i("CD"),children:"CD"}),(0,w.jsx)(D.s,{w:"100%",onClick:()=>i("D"),children:"D"}),(0,w.jsx)(D.s,{w:"100%",onClick:()=>i("OV"),children:"OV"}),(0,w.jsx)(D.s,{w:"100%",onClick:()=>i("EXP"),children:"EXP"})]})]}),(0,w.jsxs)(A.v,{children:[(0,w.jsx)(H.j,{as:V.z,rightIcon:(0,w.jsx)(B.v,{}),w:"100%",children:r||"Styl j\xedzdy:"}),(0,w.jsxs)(F.q,{w:"100%",children:[(0,w.jsx)(D.s,{w:"100%",onClick:()=>t(""),children:"V\u0161e"}),(0,w.jsx)(D.s,{w:"100%",onClick:()=>t("A"),children:"A"}),(0,w.jsx)(D.s,{w:"100%",onClick:()=>t("B"),children:"B"}),(0,w.jsx)(D.s,{w:"100%",onClick:()=>t("C"),children:"C"}),(0,w.jsx)(D.s,{w:"100%",onClick:()=>t("A/B"),children:"A/B"}),(0,w.jsx)(D.s,{w:"100%",onClick:()=>t("0"),children:"0"})]})]}),(0,w.jsx)(W.X,{name:"hasAirConditioner",isChecked:a,onChange:()=>{l((e=>!e))},children:"Klimatizace"}),(0,w.jsx)(W.X,{name:"hasVestavba",isChecked:d,onChange:()=>o((e=>!e)),children:"Vestavba (ledni\u010dka)"})]})})]})},R=e=>{let{isGridView:s,setIsGridView:i}=e;return(0,w.jsx)(I.h,{icon:s?(0,w.jsx)(p.MJA,{}):(0,w.jsx)(p.uOL,{}),onClick:()=>i((e=>!e)),"aria-label":s?"\u0412\u0456\u0434\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043d\u044f \u0432 \u0442\u0440\u0438 \u0441\u0442\u043e\u0432\u043f\u0447\u0438\u043a\u0438":"\u0412\u0456\u0434\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043d\u044f \u0432 \u043e\u0434\u0438\u043d \u0441\u0442\u043e\u0432\u043f\u0447\u0438\u043a",colorScheme:"gray"})},J=e=>{let{search:s,setSearch:i,typeCars:r,setTypeCars:n,drivingStyle:t,setDrivingStyle:a,hasAirConditioner:l,setHasAirConditioner:d,hasFridge:o,setHasFridge:c,setIsOpenModalAddCar:x,isGridView:g,setIsGridView:C,hasHeating:u,hasSoundProofed:m}=e;const f=e=>{n(e)};return(0,w.jsxs)(h.k,{gap:2,children:[(0,w.jsxs)(b.B,{children:[(0,w.jsx)(v.Z,{pointerEvents:"none",children:(0,w.jsx)(O.eaK,{color:"gray.300"})}),(0,w.jsx)(k.I,{w:{base:"100%",md:"300px",xl:"500px"},value:s,onChange:e=>{i(e.target.value.toUpperCase())},placeholder:"Search"})]}),(0,w.jsx)(R,{isGridView:g,setIsGridView:C}),(0,w.jsxs)(j.x,{display:{base:"flex",md:"none"},gap:2,children:[(0,w.jsx)(q,{typeCars:r,setTypeCars:n,drivingStyle:t,setDrivingStyle:a,hasAirConditioner:l,setHasAirConditioner:d,hasFridge:o,setHasFridge:c}),(0,w.jsx)(I.h,{bg:"#6da305",color:"white",_hover:{bg:"#5c8e04"},icon:(0,w.jsx)(G.d,{}),onClick:()=>x(!0),"aria-label":"Open Modal Add Cars",position:"relative"})]}),(0,w.jsx)(j.x,{display:{base:"none",md:"block"},children:(0,w.jsxs)(h.k,{gap:4,align:"center",children:[(0,w.jsxs)(A.v,{children:[(0,w.jsx)(H.j,{as:V.z,rightIcon:(0,w.jsx)(B.v,{}),w:"80px",children:r||"Type"}),(0,w.jsxs)(F.q,{minW:"80px",children:[(0,w.jsx)(D.s,{onClick:()=>f(""),children:"Type"}),(0,w.jsx)(D.s,{onClick:()=>f("CDV"),children:"CDV"}),(0,w.jsx)(D.s,{onClick:()=>f("CD"),children:"CD"}),(0,w.jsx)(D.s,{onClick:()=>f("D"),children:"D"}),(0,w.jsx)(D.s,{onClick:()=>f("OV"),children:"OV"}),(0,w.jsx)(D.s,{onClick:()=>f("EXP"),children:"EXP"})]})]}),(0,w.jsxs)(h.k,{align:"center",children:[(0,w.jsx)(z.J,{as:p.l51,boxSize:5,mr:2,color:l?"green.500":"gray.500"}),(0,w.jsx)(P.r,{colorScheme:"green",isChecked:l,onChange:()=>d(!l)})]}),(0,w.jsxs)(h.k,{align:"center",children:[(0,w.jsx)(z.J,{as:p.FSC,boxSize:5,mr:2,color:o?"green.500":"gray.500"}),(0,w.jsx)(P.r,{colorScheme:"green",isChecked:o,onChange:()=>c(!o)})]}),(0,w.jsx)(V.z,{leftIcon:(0,w.jsx)(G.d,{}),bg:"#6da305",color:"white",_hover:{bg:"#5c8e04"},onClick:()=>x(!0),children:"p\u0159idat auto"})]})})]})},K=()=>{const[e,s]=(0,n.useState)(!1),[i,o]=(0,n.useState)(""),[c,x]=(0,n.useState)(""),[h,g]=(0,n.useState)(!1),[j,p]=(0,n.useState)(!1),[C,u]=(0,n.useState)(""),[m,f]=(0,n.useState)(!1),[y,b]=(0,n.useState)(!1),[v,k]=(0,n.useState)(!1);return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(t.q,{children:(0,w.jsx)("title",{children:"Cars"})}),(0,w.jsxs)(r.W,{w:"100%",maxW:{base:"100%",md:"95vw",xl:"80vw"},p:2,children:[(0,w.jsx)(J,{search:i,setSearch:o,typeCars:c,setTypeCars:x,drivingStyle:C,setDrivingStyle:u,hasAirConditioner:h,setHasAirConditioner:g,hasFridge:j,setHasFridge:p,setIsOpenModalAddCar:s,isGridView:m,setIsGridView:f,hasHeating:y,setHasHeating:b,hasSoundProofed:v,setHasSoundProofed:k}),(0,w.jsx)(S,{filters:{search:i,typeCars:c,drivingStyle:C,hasAirConditioner:h,hasHeating:y,hasFridge:j,hasSoundProofed:v},isGridView:m})]}),e&&(0,w.jsx)(a.Z,{isOpen:e,onClose:()=>s(!1),children:(0,w.jsx)(l.Z,{onSubmit:async e=>{await(0,d.addsNewCar)(e),s(!1)}})})]})}}}]);
//# sourceMappingURL=370.08714a67.chunk.js.map