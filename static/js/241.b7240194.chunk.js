(self.webpackChunkhelp_book=self.webpackChunkhelp_book||[]).push([[241],{8826:(e,n,s)=>{"use strict";s.r(n),s.d(n,{addsNewCar:()=>a});var r=s(77),i=s(9631);const a=async e=>{try{const n=await(0,i.ET)((0,i.hJ)(r.db,"cars"),e);return alert("\u0410\u0432\u0442\u043e\u043c\u043e\u0431\u0456\u043b\u044c ".concat(e.name," \u0443\u0441\u043f\u0456\u0448\u043d\u043e \u0434\u043e\u0434\u0430\u043d\u043e.")),n}catch(n){return alert("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u043f\u0440\u0438 \u0434\u043e\u0434\u0430\u0432\u0430\u043d\u043d\u0456 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0456\u043b\u044f: ".concat(e.name),n),null}}},2559:(e,n,s)=>{const{addsNewCar:r}=s(8826);e.exports={addsNewCar:r}},8241:(e,n,s)=>{"use strict";s.r(n),s.d(n,{default:()=>L});var r=s(9848),i=s(8906),a=s(8536),l=s(5379),t=s(6511),c=s(4295),d=s(1091),o=s(9271),h=s(7186),x=s(8280),j=s(2571),u=s(6486),g=s(7769),m=s(7534),p=s(2791),C=s(4270),y=s(71),v=s(6355),S=s(9335),b=s(5739),k=s(6443),f=s(1709),I=s(9370),N=s(6790),V=s(4164),w=s(184);const D=e=>{let{isOpen:n,onClose:s,children:r}=e;return(0,V.createPortal)((0,w.jsxs)(S.u_,{isOpen:n,onClose:s,size:"lg",children:[(0,w.jsx)(b.Z,{}),(0,w.jsxs)(k.h,{children:[(0,w.jsx)(f.x,{children:"P\u0159idat auto"}),(0,w.jsx)(I.o,{}),(0,w.jsx)(N.f,{p:4,children:r})]})]}),document.getElementById("modal"))};var z=s(634),F=s(4315),P=s(7074),A=s(6600),O=s(3045),E=s(2784),_=s(2506),q=s(77),R=s(9631);var Z=s(8007);const B=Z.Ry({name:Z.Z_().matches(/^(CD|CDV|OV|D|EXP)\d+$/,'N\xe1zev mus\xed obsahovat typ a \u010d\xedslo, nap\u0159\xedklad "CDV114"').required("N\xe1zev je povinn\xfd").test("unique","Toto auto ji\u017e existuje",(async e=>{if(!e)return!1;return await(async e=>{const n=(0,R.hJ)(q.db,"cars"),s=(0,R.IO)(n,(0,R.ar)("name","==",e));return(await(0,R.PL)(s)).empty})(e)})),type:Z.Z_().required("Typ je povinn\xfd"),drivingStyle:Z.Z_().required("Typ je povinn\xfd"),comment:Z.Z_()}),J=e=>{let{onSubmit:n}=e;return(0,w.jsx)(_.J9,{initialValues:{name:"",type:"",hasAirConditioner:!1,hasFridge:!1,comment:"",drivingStyle:""},validationSchema:B,onSubmit:e=>{n(e)},children:e=>{let{values:n,handleChange:s,setFieldValue:r,errors:i,touched:a}=e;return(0,w.jsx)(z.x,{as:_.l0,p:4,borderWidth:1,borderRadius:"md",boxShadow:"md",children:(0,w.jsxs)(F.g,{spacing:4,align:"stretch",children:[(0,w.jsxs)(P.NI,{isInvalid:a.name&&i.name,isRequired:!0,children:[(0,w.jsx)(A.l,{children:"N\xe1zev (obsahuje typ a \u010d\xedslo)"}),(0,w.jsx)(_.gN,{as:d.I,name:"name",placeholder:"Nap\u0159\xedklad CDV114",onChange:e=>r("name",e.target.value.toUpperCase())}),a.name&&i.name?(0,w.jsx)(z.x,{color:"red.500",children:i.name}):null]}),(0,w.jsxs)(P.NI,{isInvalid:a.type&&i.type,isRequired:!0,children:[(0,w.jsx)(A.l,{children:"Typ"}),(0,w.jsxs)(_.gN,{as:O.P,name:"type",placeholder:"Vyberte typ",children:[(0,w.jsx)("option",{value:"CD",children:"CD"}),(0,w.jsx)("option",{value:"CDV",children:"CDV"}),(0,w.jsx)("option",{value:"OV",children:"OV"}),(0,w.jsx)("option",{value:"D",children:"D"}),(0,w.jsx)("option",{value:"EXP",children:"EXP"})]}),a.type&&i.type?(0,w.jsx)(z.x,{color:"red.500",children:i.type}):null]}),(0,w.jsxs)(P.NI,{display:"flex",alignItems:"center",children:[(0,w.jsx)(A.l,{mb:"0",children:"Klimatizace"}),(0,w.jsx)(_.gN,{as:m.r,name:"hasAirConditioner",colorScheme:"green",isChecked:n.hasAirConditioner,onChange:()=>r("hasAirConditioner",!n.hasAirConditioner)})]}),(0,w.jsxs)(P.NI,{display:"flex",alignItems:"center",children:[(0,w.jsx)(A.l,{mb:"0",children:"Vestavba (ledni\u010dce)"}),(0,w.jsx)(_.gN,{as:m.r,name:"hasFridge",colorScheme:"green",isChecked:n.hasFridge,onChange:()=>r("hasFridge",!n.hasFridge)})]}),(0,w.jsxs)(P.NI,{children:[(0,w.jsx)(A.l,{children:"Styl j\xedzdy"}),(0,w.jsxs)(_.gN,{as:O.P,name:"drivingStyle",placeholder:"Vyberte styl j\xedzdy",children:[(0,w.jsx)("option",{value:"A",children:"A"}),(0,w.jsx)("option",{value:"B",children:"B"}),(0,w.jsx)("option",{value:"C",children:"C"}),(0,w.jsx)("option",{value:"0",children:"0"})]})]}),(0,w.jsxs)(P.NI,{children:[(0,w.jsx)(A.l,{children:"Koment\xe1\u0159 k autu"}),(0,w.jsx)(_.gN,{as:E.g,name:"comment",placeholder:"P\u0159idejte koment\xe1\u0159..."})]}),(0,w.jsx)(x.z,{type:"submit",bg:"#6da305",color:"white",_hover:{bg:"#5c8e04"},children:"P\u0159idat auto"})]})})}})};var T=s(2559),W=s(6341),X=s(4217),K=s(1087);const U=()=>{const[e,n]=(0,p.useState)([]),[s,r]=(0,p.useState)(!0);(0,p.useEffect)((()=>{const e=(0,R.hJ)(q.db,"cars"),s=(0,R.cf)(e,(e=>{const s=e.docs.map((e=>({id:e.id,...e.data()})));n(s),r(!1)}));return()=>s()}),[]);const i=e=>{switch(e){case"A":return"#59c959";case"B":return"#ecd950";case"C":return"#ff5151";default:return"#e0e0e0"}};return(0,w.jsx)(z.x,{p:4,children:(0,w.jsx)(W.r,{templateColumns:"repeat(3, 1fr)",gap:6,children:e.map((e=>(0,w.jsx)(K.rU,{to:"/cars/".concat(e.id),children:(0,w.jsxs)(l.k,{alignItems:"center",gap:4,p:3,borderWidth:1,borderRadius:"md",boxShadow:"md",bg:i(e.drivingStyle),children:[(0,w.jsx)(X.x,{fontWeight:"bold",fontSize:"lg",children:e.name}),(0,w.jsxs)(z.x,{display:"flex",alignItems:"center",mt:2,children:[(0,w.jsx)(v.l51,{color:e.hasAirConditioner?"green":"gray"}),(0,w.jsx)(m.r,{ml:2,colorScheme:"green",isChecked:e.hasAirConditioner,isReadOnly:!0})]}),(0,w.jsxs)(z.x,{display:"flex",alignItems:"center",mt:2,children:[(0,w.jsx)(v.FSC,{color:e.hasFridge?"green":"gray"}),(0,w.jsx)(m.r,{ml:2,colorScheme:"green",isChecked:e.hasFridge,isReadOnly:!0})]}),(0,w.jsxs)(z.x,{display:"flex",alignItems:"center",mt:2,children:[(0,w.jsx)(v.BYR,{size:"30px",color:"green"}),(0,w.jsx)(X.x,{ml:2,fontSize:26,children:e.drivingStyle})]})]},e.id)})))})})},L=()=>{const[e,n]=(0,p.useState)(!1),[s,S]=(0,p.useState)(""),[b,k]=(0,p.useState)(""),[f,I]=(0,p.useState)(!1),[N,V]=(0,p.useState)(!1),z=e=>{k(e),console.log("Selected Filter:",e)};return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(C.q,{children:(0,w.jsx)("title",{children:"Cars"})}),(0,w.jsxs)(a.W,{maxW:"max-content",children:[(0,w.jsxs)(l.k,{gap:4,children:[(0,w.jsxs)(t.B,{children:[(0,w.jsx)(c.Z,{pointerEvents:"none",children:(0,w.jsx)(y.eaK,{color:"gray.300"})}),(0,w.jsx)(d.I,{w:400,value:s,onChange:e=>{S(e.target.value.toUpperCase().replace(/[^A-Z0-9]/g,"")),console.log("Search Value:",e.target.value)},placeholder:"Search"})]}),(0,w.jsxs)(l.k,{gap:4,align:"center",children:[(0,w.jsxs)(o.v,{children:[(0,w.jsx)(h.j,{as:x.z,rightIcon:(0,w.jsx)(r.v,{}),w:"80px",children:b||"Type"}),(0,w.jsxs)(j.q,{minW:"80px",children:[(0,w.jsx)(u.s,{onClick:()=>z("CDV"),children:"CDV"}),(0,w.jsx)(u.s,{onClick:()=>z("CD"),children:"CD"}),(0,w.jsx)(u.s,{onClick:()=>z("D"),children:"D"}),(0,w.jsx)(u.s,{onClick:()=>z("OV"),children:"OV"}),(0,w.jsx)(u.s,{onClick:()=>z("EXP"),children:"EXP"})]})]}),(0,w.jsxs)(l.k,{align:"center",children:[(0,w.jsx)(g.J,{as:v.l51,boxSize:5,mr:2,color:f?"green.500":"gray.500"}),(0,w.jsx)(m.r,{colorScheme:"green",isChecked:f,onChange:()=>I(!f)})]}),(0,w.jsxs)(l.k,{align:"center",children:[(0,w.jsx)(g.J,{as:v.FSC,boxSize:5,mr:2}),(0,w.jsx)(m.r,{colorScheme:"green",isChecked:N,onChange:()=>V(!N)})]}),(0,w.jsx)(x.z,{leftIcon:(0,w.jsx)(i.d,{}),bg:"#6da305",color:"white",_hover:{bg:"#5c8e04"},onClick:()=>n(!0),children:"p\u0159idat auto"})]})]}),(0,w.jsx)(U,{})]}),e&&(0,w.jsx)(D,{isOpen:e,onClose:()=>n(!1),children:(0,w.jsx)(J,{onSubmit:async e=>{await(0,T.addsNewCar)(e),n(!1)}})})]})}}}]);
//# sourceMappingURL=241.b7240194.chunk.js.map