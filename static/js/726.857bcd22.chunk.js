(self.webpackChunkhelp_book=self.webpackChunkhelp_book||[]).push([[726],{8826:(e,r,s)=>{"use strict";s.r(r),s.d(r,{addsNewCar:()=>a});var n=s(77),i=s(9631);const a=async e=>{try{const r=await(0,i.ET)((0,i.hJ)(n.db,"cars"),e);return alert("\u0410\u0432\u0442\u043e\u043c\u043e\u0431\u0456\u043b\u044c ".concat(e.name," \u0443\u0441\u043f\u0456\u0448\u043d\u043e \u0434\u043e\u0434\u0430\u043d\u043e.")),r}catch(r){return alert("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u043f\u0440\u0438 \u0434\u043e\u0434\u0430\u0432\u0430\u043d\u043d\u0456 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0456\u043b\u044f: ".concat(e.name),r),null}}},2559:(e,r,s)=>{const{addsNewCar:n}=s(8826);e.exports={addsNewCar:n}},726:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>M});var n=s(8536),i=s(2791),a=s(4270),t=s(9335),l=s(5739),d=s(6443),c=s(1709),o=s(9370),h=s(6790),x=s(4164),j=s(184);const g=e=>{let{isOpen:r,onClose:s,children:n}=e;return(0,x.createPortal)((0,j.jsxs)(t.u_,{isOpen:r,onClose:s,size:"lg",children:[(0,j.jsx)(l.Z,{}),(0,j.jsxs)(d.h,{children:[(0,j.jsx)(c.x,{children:"P\u0159idat auto"}),(0,j.jsx)(o.o,{}),(0,j.jsx)(h.f,{p:4,children:n})]})]}),document.getElementById("modal"))};var u=s(634),p=s(4315),m=s(7074),C=s(6600),y=s(1091),v=s(3045),S=s(7534),b=s(2784),f=s(8280),k=s(2506),I=s(77),F=s(9631);var N=s(8007);const A=N.Ry({name:N.Z_().matches(/^(CD|CDV|OV|D|EXP)\d+$/,'N\xe1zev mus\xed obsahovat typ a \u010d\xedslo, nap\u0159\xedklad "CDV114"').required("N\xe1zev je povinn\xfd").test("unique","Toto auto ji\u017e existuje",(async e=>{if(!e)return!1;return await(async e=>{const r=(0,F.hJ)(I.db,"cars"),s=(0,F.IO)(r,(0,F.ar)("name","==",e));return(await(0,F.PL)(s)).empty})(e)})),type:N.Z_().required("Typ je povinn\xfd"),drivingStyle:N.Z_().required("Typ je povinn\xfd"),comment:N.Z_()}),w=e=>{let{onSubmit:r}=e;return(0,j.jsx)(k.J9,{initialValues:{name:"",type:"",hasAirConditioner:!1,hasFridge:!1,comment:"",drivingStyle:""},validationSchema:A,onSubmit:e=>{r(e)},children:e=>{let{values:r,handleChange:s,setFieldValue:n,errors:i,touched:a}=e;return(0,j.jsx)(u.x,{as:k.l0,p:4,borderWidth:1,borderRadius:"md",boxShadow:"md",children:(0,j.jsxs)(p.g,{spacing:4,align:"stretch",children:[(0,j.jsxs)(m.NI,{isInvalid:a.name&&i.name,isRequired:!0,children:[(0,j.jsx)(C.l,{children:"N\xe1zev (obsahuje typ a \u010d\xedslo)"}),(0,j.jsx)(k.gN,{as:y.I,name:"name",placeholder:"Nap\u0159\xedklad CDV114",onChange:e=>n("name",e.target.value.toUpperCase())}),a.name&&i.name?(0,j.jsx)(u.x,{color:"red.500",children:i.name}):null]}),(0,j.jsxs)(m.NI,{isInvalid:a.type&&i.type,isRequired:!0,children:[(0,j.jsx)(C.l,{children:"Typ"}),(0,j.jsxs)(k.gN,{as:v.P,name:"type",placeholder:"Vyberte typ",children:[(0,j.jsx)("option",{value:"CD",children:"CD"}),(0,j.jsx)("option",{value:"CDV",children:"CDV"}),(0,j.jsx)("option",{value:"OV",children:"OV"}),(0,j.jsx)("option",{value:"D",children:"D"}),(0,j.jsx)("option",{value:"EXP",children:"EXP"})]}),a.type&&i.type?(0,j.jsx)(u.x,{color:"red.500",children:i.type}):null]}),(0,j.jsxs)(m.NI,{display:"flex",alignItems:"center",children:[(0,j.jsx)(C.l,{mb:"0",children:"Klimatizace"}),(0,j.jsx)(k.gN,{as:S.r,name:"hasAirConditioner",colorScheme:"green",isChecked:r.hasAirConditioner,onChange:()=>n("hasAirConditioner",!r.hasAirConditioner)})]}),(0,j.jsxs)(m.NI,{display:"flex",alignItems:"center",children:[(0,j.jsx)(C.l,{mb:"0",children:"Vestavba (ledni\u010dce)"}),(0,j.jsx)(k.gN,{as:S.r,name:"hasFridge",colorScheme:"green",isChecked:r.hasFridge,onChange:()=>n("hasFridge",!r.hasFridge)})]}),(0,j.jsxs)(m.NI,{children:[(0,j.jsx)(C.l,{children:"Styl j\xedzdy"}),(0,j.jsxs)(k.gN,{as:v.P,name:"drivingStyle",placeholder:"Vyberte styl j\xedzdy",children:[(0,j.jsx)("option",{value:"A",children:"A"}),(0,j.jsx)("option",{value:"B",children:"B"}),(0,j.jsx)("option",{value:"C",children:"C"}),(0,j.jsx)("option",{value:"0",children:"0"})]})]}),(0,j.jsxs)(m.NI,{children:[(0,j.jsx)(C.l,{children:"Koment\xe1\u0159 k autu"}),(0,j.jsx)(k.gN,{as:b.g,name:"comment",placeholder:"P\u0159idejte koment\xe1\u0159..."})]}),(0,j.jsx)(f.z,{type:"submit",bg:"#6da305",color:"white",_hover:{bg:"#5c8e04"},children:"P\u0159idat auto"})]})})}})};var D=s(2559),V=s(6341),z=s(5379),O=s(4217),P=s(6355),E=s(1087);const _=e=>{let{filters:r}=e;const{search:s,filter:n,hasAirConditioner:a,hasFridge:t}=r,[l,d]=(0,i.useState)([]),[c,o]=(0,i.useState)(!0);(0,i.useEffect)((()=>{const e=(0,F.hJ)(I.db,"cars"),r=(0,F.cf)(e,(e=>{const r=e.docs.map((e=>({id:e.id,...e.data()}))).filter((e=>{const r=e.name.includes(s),i=!n||e.type===n,l=!a||!0===e.hasAirConditioner,d=!t||!0===e.hasFridge;return r&&i&&l&&d}));d(r),o(!1)}));return()=>r()}),[n,a,t,s]);const h=e=>{switch(e){case"A":return"#59c959";case"B":return"#ecd950";case"C":return"#ff5151";default:return"#e0e0e0"}};return(0,j.jsx)(u.x,{p:4,children:(0,j.jsx)(V.r,{templateColumns:"repeat(3, 1fr)",gap:6,children:l.map((e=>(0,j.jsx)(E.rU,{to:"/cars/".concat(e.id),children:(0,j.jsxs)(z.k,{alignItems:"center",gap:4,p:3,borderWidth:1,borderRadius:"md",boxShadow:"md",bg:h(e.drivingStyle),children:[(0,j.jsx)(O.x,{fontWeight:"bold",fontSize:"lg",children:e.name}),(0,j.jsxs)(u.x,{display:"flex",alignItems:"center",mt:2,children:[(0,j.jsx)(P.l51,{color:e.hasAirConditioner?"green":"gray"}),(0,j.jsx)(S.r,{ml:2,colorScheme:"green",isChecked:e.hasAirConditioner,isReadOnly:!0})]}),(0,j.jsxs)(u.x,{display:"flex",alignItems:"center",mt:2,children:[(0,j.jsx)(P.FSC,{color:e.hasFridge?"green":"gray"}),(0,j.jsx)(S.r,{ml:2,colorScheme:"green",isChecked:e.hasFridge,isReadOnly:!0})]}),(0,j.jsxs)(u.x,{display:"flex",alignItems:"center",mt:2,children:[(0,j.jsx)(P.BYR,{size:"30px",color:"green"}),(0,j.jsx)(O.x,{ml:2,fontSize:26,children:e.drivingStyle})]})]})},e.id)))})})};var q=s(6511),R=s(4295),T=s(9271),B=s(7186),J=s(2571),W=s(6486),Z=s(7769),X=s(71),H=s(9848),K=s(8906);const U=e=>{let{search:r,setSearch:s,filter:n,setFilter:i,hasAirConditioner:a,setHasAirConditioner:t,hasFridge:l,setHasFridge:d,setIsOpenModalAddCar:c}=e;const o=e=>{i(e)};return(0,j.jsxs)(z.k,{gap:4,children:[(0,j.jsxs)(q.B,{children:[(0,j.jsx)(R.Z,{pointerEvents:"none",children:(0,j.jsx)(X.eaK,{color:"gray.300"})}),(0,j.jsx)(y.I,{w:400,value:r,onChange:e=>{s(e.target.value.toUpperCase())},placeholder:"Search"})]}),(0,j.jsxs)(z.k,{gap:4,align:"center",children:[(0,j.jsxs)(T.v,{children:[(0,j.jsx)(B.j,{as:f.z,rightIcon:(0,j.jsx)(H.v,{}),w:"80px",children:n||"Type"}),(0,j.jsxs)(J.q,{minW:"80px",children:[(0,j.jsx)(W.s,{onClick:()=>o(""),children:"Type"}),(0,j.jsx)(W.s,{onClick:()=>o("CDV"),children:"CDV"}),(0,j.jsx)(W.s,{onClick:()=>o("CD"),children:"CD"}),(0,j.jsx)(W.s,{onClick:()=>o("D"),children:"D"}),(0,j.jsx)(W.s,{onClick:()=>o("OV"),children:"OV"}),(0,j.jsx)(W.s,{onClick:()=>o("EXP"),children:"EXP"})]})]}),(0,j.jsxs)(z.k,{align:"center",children:[(0,j.jsx)(Z.J,{as:P.l51,boxSize:5,mr:2,color:a?"green.500":"gray.500"}),(0,j.jsx)(S.r,{colorScheme:"green",isChecked:a,onChange:()=>t(!a)})]}),(0,j.jsxs)(z.k,{align:"center",children:[(0,j.jsx)(Z.J,{as:P.FSC,boxSize:5,mr:2}),(0,j.jsx)(S.r,{colorScheme:"green",isChecked:l,onChange:()=>d(!l)})]}),(0,j.jsx)(f.z,{leftIcon:(0,j.jsx)(K.d,{}),bg:"#6da305",color:"white",_hover:{bg:"#5c8e04"},onClick:()=>c(!0),children:"p\u0159idat auto"})]})]})},M=()=>{const[e,r]=(0,i.useState)(!1),[s,t]=(0,i.useState)("");console.log("search",s);const[l,d]=(0,i.useState)(""),[c,o]=(0,i.useState)(!1),[h,x]=(0,i.useState)(!1);return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(a.q,{children:(0,j.jsx)("title",{children:"Cars"})}),(0,j.jsxs)(n.W,{maxW:"max-content",children:[(0,j.jsx)(U,{search:s,setSearch:t,filter:l,setFilter:d,hasAirConditioner:c,setHasAirConditioner:o,hasFridge:h,setHasFridge:x,setIsOpenModalAddCar:r}),(0,j.jsx)(_,{filters:{search:s,filter:l,hasAirConditioner:c,hasFridge:h}})]}),e&&(0,j.jsx)(g,{isOpen:e,onClose:()=>r(!1),children:(0,j.jsx)(w,{onSubmit:async e=>{await(0,D.addsNewCar)(e),r(!1)}})})]})}}}]);
//# sourceMappingURL=726.857bcd22.chunk.js.map